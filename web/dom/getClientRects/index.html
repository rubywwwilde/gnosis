<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Range.getClientRects</title>
    <style>
      main {
        width: clamp(300px, 75%, 720px);
        margin: auto;
      }

      .text-block {
        font-size: 20px;
        line-height: 1.5em;
        padding: 10px;
        border: 1px solid #000;
      }

      .vertical-text {
        writing-mode: vertical-rl;
        text-orientation: upright;
        padding: 10px;
      }

      .highlight-badge {
        position: absolute;
        top: -8px;
        left: -8px;
        width: 16px;
        height: 16px;
        background-color: rgba(255, 0, 0, 0.6);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        font-weight: bold;
        z-index: 1;
      }
    </style>
  </head>
  <body>
    Highlight:
    <button id="button-rects-all">all rects</button>
    <button id="button-rects-text">text rects</button>
    <button id="button-rects-lines">lines rects</button>
    <button id="button-rects-clear">clear</button>
    <main id="main">
      <h3>DIV with spans</h3>
      <div class="text-block">
        <b>Alice</b> was beginning to get <em>very</em> tired of sitting by her
        sister on the bank, and of having nothing to do: once or twice she had
        peeped into the book her sister was reading, but it had no pictures or
        conversations in it, â€œand what is the use of a book,â€ thought Alice
        â€œwithout pictures or conversations?â€ So she was considering in her own
        <b>mind</b> (as well as she could, for the hot day made her feel very
        sleepy and stupid), whether the pleasure of making a daisy-chain would
        be worth the trouble of getting up and picking the daisies, when
        suddenly a White Rabbit with pink eyes ran close by her.
      </div>

      <h3>Block element inside</h3>
      <div class="text-block">
        <b>Alice</b> was beginning to get <em>very</em> tired of sitting by her
        sister on the bank, and of having nothing to do: once or twice she had
        peeped into the book her sister was reading, but it had no pictures or
        conversations in it, â€œand what is the use of a book,â€ thought Alice
        <div>â€œwithout pictures or conversations?â€</div>
        So she was considering in her own <b>mind</b> (as well as she could, for
        the hot day made her feel very sleepy and stupid), whether the pleasure
        of making a daisy-chain would be worth the trouble of getting up and
        picking the daisies, when suddenly a White Rabbit with pink eyes ran
        close by her.
      </div>

      <h3>Really long span</h3>
      <div class="text-block">
        <b>Alice</b> was beginning to get
        <em
          >very tired of sitting by her sister on the bank, and of having
          nothing to do: once or twice she had peeped into the book her sister
          was reading, but it <b>had no pictures</b> or conversations in it,
          â€œand what is the use of a book,â€ thought Alice â€œwithout pictures or
          conversations?â€ So she was</em
        >
        considering in her own <b>mind</b> (as well as she could, for the hot
        day made her feel very sleepy and stupid), whether the pleasure of
        making a daisy-chain would be worth the trouble of getting up and
        picking the daisies, when suddenly a White Rabbit with pink eyes ran
        close by her.
      </div>

      <h3>Tight lines + emoji inline</h3>
      <div class="text-block" style="line-height: 1">
        normal <span style="font-size: 48px; vertical-align: baseline">ğŸ˜ƒ</span>
        text at the end of the first line should wrap soon to provoke overlap.
        <br />
        next line right here â€” this is intended to start immediately below.
        <br />
        third line for stability; more text just to ensure we have multiple
        fragments.
      </div>
      <h3>Arabic</h3>
      <div class="text-block">
        ÙƒØ§Ù†Øª <b>Ø£Ù„ÙŠØ³</b> Ù‚Ø¯ Ø¨Ø¯Ø£Øª ØªØ´Ø¹Ø± Ø¨ØªØ¹Ø¨ <em>Ø´Ø¯ÙŠØ¯</em> Ù…Ù† Ø§Ù„Ø¬Ù„ÙˆØ³ Ø¨Ø¬ÙˆØ§Ø± Ø£Ø®ØªÙ‡Ø§
        Ø¹Ù„Ù‰ Ø¶ÙØ© Ø§Ù„Ù†Ù‡Ø±ØŒ ÙˆÙ…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ø§ ØªÙØ¹Ù„Ù‡Ø› ÙÙ‚Ø¯ ØªØ·Ù„Ø¹Øª Ù…Ø±Ø© Ø£Ùˆ Ù…Ø±ØªÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙƒØªØ§Ø¨
        Ø§Ù„Ø°ÙŠ ÙƒØ§Ù†Øª Ø£Ø®ØªÙ‡Ø§ ØªÙ‚Ø±Ø£Ù‡ØŒ Ù„ÙƒÙ†Ù‡ Ù„Ù… ÙŠÙƒÙ† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ØµÙˆØ± Ø£Ùˆ Ù…Ø­Ø§Ø¯Ø«Ø§ØªØŒ ÙÙ‚Ø§Ù„Øª Ø£Ù„ÙŠØ³
        ÙÙŠ Ù†ÙØ³Ù‡Ø§: "ÙˆÙ…Ø§ ÙØ§Ø¦Ø¯Ø© ÙƒØªØ§Ø¨ Ø¨Ù„Ø§ ØµÙˆØ± Ø£Ùˆ Ù…Ø­Ø§Ø¯Ø«Ø§ØªØŸ". ÙˆÙ‡ÙƒØ°Ø§ Ø¨Ø¯Ø£Øª ØªÙÙƒØ± ÙÙŠ
        <b>Ø°Ù‡Ù†Ù‡Ø§</b> (Ø¨Ù‚Ø¯Ø± Ù…Ø§ ØªØ³ØªØ·ÙŠØ¹ØŒ Ø¥Ø° Ø¬Ø¹Ù„Ù‡Ø§ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ø± ØªØ´Ø¹Ø± Ø¨Ø§Ù„Ù†Ø¹Ø§Ø³ ÙˆØ§Ù„ÙƒØ³Ù„)
        Ø¹Ù…Ù‘Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ¹Ø© ØµÙ†Ø¹ Ø¹Ù‚Ø¯ Ù…Ù† Ø²Ù‡ÙˆØ± Ø§Ù„Ø£Ù‚Ø­ÙˆØ§Ù† ØªØ³ØªØ­Ù‚ Ø¹Ù†Ø§Ø¡ Ø§Ù„Ù†Ù‡ÙˆØ¶ ÙˆÙ‚Ø·Ù
        Ø§Ù„Ø£Ø²Ù‡Ø§Ø±ØŒ Ø­ÙŠÙ†Ù…Ø§ Ù…Ø±Ù‘ ÙØ¬Ø£Ø© Ø¨Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù†Ù‡Ø§ Ø£Ø±Ù†Ø¨ Ø£Ø¨ÙŠØ¶ Ø°Ùˆ Ø¹ÙŠÙ†ÙŠÙ† ÙˆØ±Ø¯ÙŠØªÙŠÙ†.
      </div>

      <h3>Vertical text</h3>
      <div class="text-block vertical-text">
        <b>ã‚¢ãƒªã‚¹</b
        >ã¯ã€å·å²¸ã§å§‰ã®ãã°ã«åº§ã£ã¦ã„ã‚‹ã“ã¨ã«<em>ã¨ã¦ã‚‚</em>é€€å±ˆã—ã¦ãã¦ã„ã¾ã—ãŸã€‚ã™ã‚‹ã“ã¨ã‚‚ãªãã€ä½•åº¦ã‹å§‰ãŒèª­ã‚“ã§ã„ã‚‹æœ¬ã‚’ã®ããè¾¼ã‚“ã§ã¿ã¾ã—ãŸãŒã€ãã®æœ¬ã«ã¯çµµã‚‚ä¼šè©±ã‚‚ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã€Œçµµã‚‚ä¼šè©±ã‚‚ãªã„æœ¬ãªã‚“ã¦ã€ä½•ã®å½¹ã«ç«‹ã¤ã®ã‹ã—ã‚‰ã€ã¨ã‚¢ãƒªã‚¹ã¯æ€ã„ã¾ã—ãŸã€‚ãã“ã§å½¼å¥³ã¯ã€è‡ªåˆ†ã®<b>å¿ƒ</b>ã®ä¸­ã§ï¼ˆæš‘ã„æ—¥ã ã£ãŸã®ã§ã¨ã¦ã‚‚çœ ãã¦ã¼ã‚“ã‚„ã‚Šã—ã¦ã„ã¾ã—ãŸãŒï¼‰ãƒ‡ã‚¤ã‚¸ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã‚’ä½œã‚‹æ¥½ã—ã•ãŒã€ç«‹ã¡ä¸ŠãŒã£ã¦èŠ±ã‚’æ‘˜ã‚€æ‰‹é–“ã«è¦‹åˆã†ã‹ã©ã†ã‹ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸã€‚ãã®ã¨ãã€çªç„¶ã€ãƒ”ãƒ³ã‚¯è‰²ã®ç›®ã‚’ã—ãŸç™½ã‚¦ã‚µã‚®ãŒå½¼å¥³ã®ã™ããã°ã‚’é§†ã‘æŠœã‘ãŸã®ã§ã™ã€‚
      </div>
    </main>
    <script src="./main.js"></script>
  </body>
</html>
